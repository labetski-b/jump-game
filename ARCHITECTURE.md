# üèóÔ∏è Crypto Jump Trading - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/Users/labetsky/Desktop/AI_tests/jump/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ styles.css              # CSS —Å—Ç–∏–ª–∏  
‚îú‚îÄ‚îÄ GAME_GUIDE.md           # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–≥—Ä–µ
‚îú‚îÄ‚îÄ ARCHITECTURE.md         # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ js/
    ‚îú‚îÄ‚îÄ game.js             # –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫
    ‚îú‚îÄ‚îÄ columns.js          # –õ–æ–≥–∏–∫–∞ –∫–æ–ª–æ–Ω–Ω –∏ —Ç–æ—Ä–≥–æ–≤–ª–∏
    ‚îú‚îÄ‚îÄ player.js           # –ò–≥—Ä–æ–∫ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä—ã–∂–∫–æ–≤
    ‚îú‚îÄ‚îÄ ui.js               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îî‚îÄ‚îÄ binance-api.js      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Binance WebSocket API
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

### Game (game.js) - –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `gameState`: 'waiting' | 'jumping' | 'calculating'
- `columnManager`: ColumnManager
- `player`: Player  
- `uiManager`: UIManager
- `canvas`: HTML5 Canvas element

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `gameLoop()`: –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (requestAnimationFrame)
- `handleClick(event)`: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–æ–ª–æ–Ω–Ω–∞–º
- `executeJump(targetType, targetIndex)`: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä—ã–∂–∫–∞
- `setupCanvas()`: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ Canvas

### ColumnManager (columns.js) - –õ–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–Ω–∞–º–∏, —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Binance API

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `stableColumn`: Column (USDT)
- `volatileColumns`: Column[] (BTC, ETH, ADA, DOT)
- `binanceAPI`: BinanceWebSocketAPI
- `playerOnVolatile`: boolean
- `currentVolatileIndex`: number
- `leverage`: 1 | 10 | 100 | 500 | 1000 (–¥–µ—Ñ–æ–ª—Ç: 1000)
- `marginPosition`: –æ–±—ä–µ–∫—Ç –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Å —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `comparisonSystem`: —Å–∏—Å—Ç–µ–º–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏:**
- `calculateFinalWalletBalance()`: –∏—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å —Å —É—á–µ—Ç–æ–º P/L
- `shouldLiquidate()`: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ margin call
- `forceClosePosition()`: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è
- `getPotentialWalletDisplay()`: –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π:**
- `createVirtualPositions(activeCryptoIndex, buyTime)`: —Å–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç
- `calculateVirtualWallet(cryptoSymbol)`: —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç P/L –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
- `calculateUSDTEquivalentForCrypto(cryptoIndex)`: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –∫–æ–ª–æ–Ω–Ω–µ (—Ä–µ–∞–ª—å–Ω—ã–π –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π P/L)
- `updateVolatileDisplay()`: –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞–¥–ø–∏—Å–∏ –Ω–∞ –∫–æ–ª–æ–Ω–Ω–∞—Ö (USDT –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö)

**–ú–µ—Ç–æ–¥—ã –º–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫–æ–≤:**
- `loadHistoricalData()`: –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Binance REST API –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- `loadSymbolHistory(cryptoName, binanceSymbol)`: –∑–∞–≥—Ä—É–∂–∞–µ—Ç klines –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- `createMockHistoricalData()`: —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- `updatePriceHistory()`: –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ü–µ–Ω –∫–∞–∂–¥—ã–µ ~8.5 —Å–µ–∫—É–Ω–¥
- `drawMiniChart(cryptoSymbol, x, y, width, height)`: —Ä–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ —Ü–µ–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –º–∏–Ω—É—Ç—ã
- `priceHistory`: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (14 —Ç–æ—á–µ–∫ –Ω–∞ –≤–∞–ª—é—Ç—É)

**–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:**
- `draw()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–ª–æ–Ω–Ω
- `updateVolatileDisplay()`: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–¥–ø–∏—Å–µ–π –Ω–∞ –∫–æ–ª–æ–Ω–Ω–∞—Ö
- `drawActiveProfitLoss()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫—Ä—É–ø–Ω–æ–≥–æ P/L –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å–≤–µ—Ä—Ö—É
- `onPlayerLanded(columnType, columnIndex)`: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏—è
- `getColumnAt(x)`: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–Ω—ã –ø–æ –∫–ª–∏–∫—É

### Column (columns.js) - –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç—Ä–∏—Å–æ–≤–∫–∞, –∞–Ω–∏–º–∞—Ü–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–Ω—ã

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `x`: –ø–æ–∑–∏—Ü–∏—è –ø–æ X
- `height`: –≤—ã—Å–æ—Ç–∞ –∫–æ–ª–æ–Ω–Ω—ã
- `type`: 'stable' | 'volatile'
- `cryptoName`: 'BTC' | 'ETH' | 'ADA' | 'DOT'
- `displayValue`: —Ç–µ–∫—Å—Ç –Ω–∞ –∫–æ–ª–æ–Ω–Ω–µ
- `additionalInfo`: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
- `isActive`: –∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞ (–≥–¥–µ –∏–≥—Ä–æ–∫)
- `isVirtual`: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞ (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `draw()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–ª–æ–Ω–Ω—ã
- `drawVolatileText()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–∫–æ–ª–æ–Ω–Ω–µ
- `getPlayerPosition()`: –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –∏–≥—Ä–æ–∫–∞
- `createGradient()`: —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

### Player (player.js) - –ò–≥—Ä–æ–∫ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞, –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä—ã–∂–∫–æ–≤, —ç–º–æ—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `position`: —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è {x, y}
- `currentColumn`: 'stable' | 'volatile'
- `isJumping`: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä—ã–∂–∫–∞
- `jumpPath`: JumpPath –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
- `trailParticles`: —á–∞—Å—Ç–∏—Ü—ã —Å–ª–µ–¥–∞

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `draw()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞
- `startJump()`: –Ω–∞—á–∞–ª–æ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä—ã–∂–∫–∞
- `getPlayerEmotion()`: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–∏ –ø–æ –ø—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫—É
- `drawPlayerBody()`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–º–∞–π–ª–∏–∫–∞

### UIManager (ui.js) - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ UI, —ç—Ñ—Ñ–µ–∫—Ç—ã, –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `stableHeightElement`: DOM —ç–ª–µ–º–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞
- `leverageButton`: –∫–Ω–æ–ø–∫–∞ –ø–ª–µ—á–∞
- `connectionStatus`: —Å—Ç–∞—Ç—É—Å Binance

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `updateComparisonDisplay()`: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
- `createSuccessEffect()`: —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–±—ã–ª–∏
- `createLossEffect()`: —ç—Ñ—Ñ–µ–∫—Ç —É–±—ã—Ç–∫–∞
- `updateLeverageDisplay()`: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–µ—á–∞

### BinanceWebSocketAPI (binance-api.js) - –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Binance WebSocket, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `symbolMap`: –º–∞–ø–ø–∏–Ω–≥ –∏–≥—Ä–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –ø–∞—Ä—ã Binance
- `priceCache`: –∫—ç—à –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ü–µ–Ω
- `isConnected`: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `start()`: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket
- `getGamePrices()`: –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –¥–ª—è –∏–≥—Ä—ã
- `handleMessage()`: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```
Game constructor ‚Üí 
  ColumnManager constructor ‚Üí 
    Column constructors (5 —à—Ç—É–∫) ‚Üí
    BinanceWebSocketAPI start() ‚Üí
  Player constructor ‚Üí
  UIManager constructor ‚Üí
Game start() ‚Üí gameLoop()
```

### 2. –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
```
Game.gameLoop() ‚Üí
  ColumnManager.update() ‚Üí
    binanceAPI.getGamePrices() ‚Üí
    updateVolatileDisplay() ‚Üí
    Column.update() (–¥–ª—è –∫–∞–∂–¥–æ–π)
  Player.update() ‚Üí
  Game.draw() ‚Üí
    ColumnManager.draw() ‚Üí
      Column.draw() (–¥–ª—è –∫–∞–∂–¥–æ–π)
    Player.draw()
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
```
Game.handleClick(event) ‚Üí
  ColumnManager.getColumnAt(x) ‚Üí
Game.executeJump(targetType, targetIndex) ‚Üí
  Player.startJump() ‚Üí
  ColumnManager.onPlayerStartJump()
```

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä—ã–∂–∫–∞
```
Player.updateJumpAnimation() (progress >= 1) ‚Üí
  ColumnManager.processJump() ‚Üí
    IF –ø—Ä—ã–∂–æ–∫ volatile ‚Üí USDT: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ walletValue ‚Üí
    IF –ø—Ä—ã–∂–æ–∫ volatile ‚Üí volatile: 
      1) –ø—Ä–æ–¥–∞–∂–∞ —Ç–µ–∫—É—â–µ–π –≤–∞–ª—é—Ç—ã –≤ USDT (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ walletValue)
      2) —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–æ–≤–æ–π –≤–∞–ª—é—Ç—ã
  ColumnManager.onPlayerLanded() ‚Üí
    –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ comparisonSystem –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π ‚Üí
Game.finishJump() ‚Üí
  IF –Ω–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: UIManager.showGrowthFeedback()
```

## üé® –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–ª–æ–Ω–Ω—ã
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ**: 150px –º–µ–∂–¥—É —Ü–µ–Ω—Ç—Ä–∞–º–∏
- **–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≥—Ä—É–ø–ø–∞ –∫–æ–ª–æ–Ω–Ω —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ –æ–∫–Ω–∞

### Canvas
- **–†–∞–∑–º–µ—Ä**: –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π (window.innerWidth √ó window.innerHeight)
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ–ª–æ–Ω–Ω**: –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `calculateFixedColumnPositions()`
- **–û—Ç—Ä–∏—Å–æ–≤–∫–∞**: —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û
- **`marginPosition`** - –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–∑–∏—Ü–∏–∏:
  - `initialWallet`: –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ –∏–≥—Ä–æ–∫–∞ (–Ω–∞—à–∏ –¥–µ–Ω—å–≥–∏)
  - `positionSize`: –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (–Ω–∞—à–∏ + –∑–∞–µ–º–Ω—ã–µ)  
  - `leverage`: —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ (1-1000)
  - `cryptoAmount`, `buyPrice`: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–∏—Ü–∏–∏
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞**: `getPotentialWalletDisplay()` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–ª–∏–∫–≤–∏–¥–∞—Ü–∏—è**: `shouldLiquidate()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç margin call –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
- **–ü–û–†–Ø–î–û–ö –û–ü–ï–†–ê–¶–ò–ô –ö–†–ò–¢–ò–ß–ï–ù:**
  1. `Game.finishJump()` –≤—ã–∑—ã–≤–∞–µ—Ç `processJump()` —Å –¢–ï–ö–£–©–ò–ú —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  2. `processJump()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é –ø–æ–∫–∞ `playerOnVolatile` –µ—â–µ true
  3. –ó–∞—Ç–µ–º `onPlayerLanded()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–µ
  4. –ï—Å–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ - –∫–æ—à–µ–ª–µ–∫ –Ω–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è!
- **P/L —Ä–∞—Å—á–µ—Ç—ã**: –≤—Å–µ–≥–¥–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `initialWallet`, –ù–ï —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

### 2. –°–∏—Å—Ç–µ–º–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π (Virtual Positions) ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û
**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ "—á—Ç–æ –µ—Å–ª–∏ –±—ã –∫—É–ø–∏–ª –¥—Ä—É–≥—É—é –≤–∞–ª—é—Ç—É"

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:**
- `comparisonSystem.activePosition`: —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª—å–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–ø–æ–∑–∏—Ü–∏—è
- `comparisonSystem.virtualComparisons`: –æ–±—ä–µ–∫—Ç —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ –¥–ª—è –≤—Å–µ—Ö –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç
- –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ª—é–±–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ `createVirtualPositions()`
- –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ USDT –∏–ª–∏ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. **–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã (onPlayerLanded):**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `createVirtualPositions()` –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤–∞–ª—é—Ç
   - –ö–∞–∂–¥–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç:
     - –¶–µ–Ω—É –ø–æ–∫—É–ø–∫–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
     - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–ª—é—Ç—ã, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –±—ã –∫—É–ø–ª–µ–Ω–æ
     - –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞
   
2. **–í–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤–ª–∏ (update):**
   - USDT –∫–æ–ª–æ–Ω–Ω–∞ –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω–æ–π)
   - –ê–∫—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π P/L –≤ USDT
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç P/L –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö —á–µ—Ä–µ–∑ `calculateVirtualWallet()`
   
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (updateVolatileDisplay):**
   - –ê–∫—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞: "–ü—Ä–æ–¥–∞—Ç—å" + –±–∞–ª–∞–Ω—Å –≤ USDT
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–Ω—ã: "–ö—É–ø–∏—Ç—å" + P/L –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "+2.35%")
   - USDT –∫–æ–ª–æ–Ω–Ω–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ

4. **–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ USDT:**
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –æ—á–∏—â–∞—é—Ç—Å—è
   - –ö–æ—à–µ–ª–µ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º P/L
   - –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –Ω–æ–≤–æ–º—É —Ü–∏–∫–ª—É —Ç–æ—Ä–≥–æ–≤–ª–∏

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –≤ ColumnManager
- –¶–µ–Ω—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ BinanceWebSocketAPI
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∫–æ–ª–±—ç–∫ `onPriceUpdate`

### 4. Canvas rendering pipeline
- Game.draw() ‚Üí ColumnManager.draw() ‚Üí Column.draw()
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ—Ç—Ä–∏—Å–æ–≤–∫—É
- Player —Ä–∏—Å—É–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –∫–æ–ª–æ–Ω–Ω

### 5. –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –ø–ª–µ—á–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ ‚ö†Ô∏è 
- **–ü–ª–µ—á–∏**: x1, x10, x100, x500, x1000 (–¥–µ—Ñ–æ–ª—Ç x100)
- **–õ–∏–∫–≤–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä–æ–≥**: 5% –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
- **–ê–≤—Ç–æ–ª–∏–∫–≤–∏–¥–∞—Ü–∏—è**: —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä –≤ `update()`
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–µ—á–∏**:
  - x500: –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ 0.2%
  - x1000: –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ 0.1%
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–∏—Å–∫–∞**: —á–µ–º –≤—ã—à–µ –ø–ª–µ—á–æ, —Ç–µ–º "–≥–æ—Ä—è—á–µ–µ" —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏

## üöÄ –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
1. –î–æ–±–∞–≤–∏—Ç—å —Å–∏–º–≤–æ–ª –≤ `cryptoNames` –≤ ColumnManager
2. –î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ `symbolMap` –≤ BinanceWebSocketAPI
3. –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –∫–æ–ª–æ–Ω–Ω

### –ù–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏  
1. –†–∞—Å—à–∏—Ä–∏—Ç—å `comparisonSystem` –≤ ColumnManager
2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞—Å—á–µ—Ç–∞ –≤ Column
3. –û–±–Ω–æ–≤–∏—Ç—å UI –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UIManager

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
1. –†–∞—Å—à–∏—Ä–∏—Ç—å `drawPlayerBody()` –≤ Player
2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ UIManager
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ Column

---

*–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞.*